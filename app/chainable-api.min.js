!function(n){var t,r=function(n){var t="";for(var r in n)""!=t&&(t+="&"),t+=r+"="+n[r];return t},e=function(n,t,e){return new Promise(function(o,i){var u=new XMLHttpRequest,a=!0;e&&("GET"===n?(e=r(e),t+="?"+e):("POST"===n||"PUT"===n)&&(e=JSON.stringify(e))),u.open(n,t,a),u.send(e),u.onload=function(){if(200===u.status){try{data=JSON.parse(this.response)}catch(n){data={}}o(data)}else i(u.statusText)},u.onerror=function(){i(Error("Network Error"))}})},o=function(n){return{endpoint:n,find:function(n,t){var r=Array.prototype.slice.call(arguments,0),o=this.endpoint;return"object"==typeof r[0]?t=r[0]:("string"==typeof r[0]||"number"==typeof r[0])&&(o+="/"+n),e("GET",o,t)},create:function(n){return e("POST",this.endpoint,n)},save:function(n,t){var r=[this.endpoint,n].join("/");return e("PUT",r,t)},"delete":function(n){var t=[this.endpoint,n].join("/");return e("DELETE",t,{})}}},i=function(n){return t=u(n),n},u=function(n,t){t=t||"";for(var r in n)n.hasOwnProperty(r)&&("object"!=typeof n[r]||f(n[r])?(t+=r,n[r]=o(t),t=""):(t+=r,u(n[r],t+"/"),n[r]=a(n[r],o(t)),t=""))},a=function(n,t){for(var r in t)n[r]=t[r];return n},f=function(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0};n.chainableApi=i}("undefined"!=typeof window?window:module.exports);